var app=app||{};!function(n){"use strict";app={init:function(){this.change.init(),this.update.init(),this.fixmenu.init()}}}(document.body);var app=app||{};!function(n){"use strict";app.change={change:function(n){var t=!1;$("#table").find(".j-change-item").filter(":checked").length&&(t=!0),n.prop("disabled",!t)},init:function(){var n=$("#table"),t=$(".j-change-button"),a=n.find(".j-change-item"),e=this;n.find(".j-change-all").on("change",function(){a.prop("checked",$(this).prop("checked")),e.change(t)}),n.find(".j-change-item").on("change",function(){e.change(t)}),e.change(t)}}}(document.body);var app=app||{};!function(n){"use strict";app.fixmenu={fixMenu:function(n,t){t>=159?n.hasClass("_sticked")||n.addClass("_sticked"):n.hasClass("_sticked")&&n.removeClass("_sticked")},init:function(){var n=$("#navigation"),t=this;t.fixMenu(n,$(window).scrollTop()),$(window).on("scroll",function(){t.fixMenu(n,$(window).scrollTop())})}}}(document.body);var app=app||{};!function(n){"use strict";app.update={changeStatus:function(n,t,a){var e='<span class="table__error">Err</span>',c=!1;a.hasOwnProperty("http_code")&&200==a.http_code&&(c=!0,e='<span class="table__success">Ok</span>'),c?t.addClass("_active"):t.addClass("_failed"),n.html(e)},changeButton:function(){$("body").on("click",".j-update-all",function(){$("#table").find(".j-change-item").filter(":checked").each(function(){$(this).closest("tr").find(".j-update").trigger("click")})})},init:function(){var n=this;n.changeButton(),$("body").on("click",".j-update",function(){!function(t){var t,a,e,c,i;t.addClass("_active"),a=t.closest("tr"),e=a.find(".j-status"),c=t.attr("href"),i=t.data("domain"),$.ajax({url:c,type:"GET",dataType:"JSON",contentType:!1,processData:!0,success:function(c){a.find(".j-change-item").prop("checked",!1),console.log("suc:",c),t.removeClass("_active"),t.addClass("_success"),n.changeStatus(e,a,c)},error:function(c){console.log("err:",c),t.removeClass("_active"),t.addClass("_failed"),n.changeStatus(e,a,c)}})}($(this))})}}}(document.body),$(document).ready(function(){app.init()});